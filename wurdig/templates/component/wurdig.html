<%
    from pylons import config
%>

<%def name="doctype()">
<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01//EN" "http://www.w3.org/TR/html4/strict.dtd">
</%def>

<%def name="meta()">
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">        
    <meta http-equiv="Content-Language" content="en-us">
    <meta name="author" content="Jason R. Leveille">
    <meta name="copyright" content="http://jasonleveille.com">
    <link rel="shortcut icon" href="favicon.ico" type="image/x-icon">
    <meta name="ICBM" content="37.0625, -95.677068">
    <meta name="geo.position" content="37.0625, -95.677068">
    <meta name="geo.placename" content="Frederick, Maryland">
    <meta name="geo.region" content="US-MD">
    <meta name="geo.country" content="US">
    ${h.auto_discovery_link(h.url_for(controller='post', action='feeds'), feed_type='atom', title='Recent Posts')}
    ${h.auto_discovery_link(h.url_for(controller='comment', action='feeds'), feed_type='atom', title='Recent Comments')}
</%def>

<%def name="css()">
    ${h.stylesheet_link(h.url_for('http://yui.yahooapis.com/2.7.0/build/reset-fonts-grids/reset-fonts-grids.css'), media="screen, projection")}
    ${h.stylesheet_link(h.url_for('http://yui.yahooapis.com/2.7.0/build/base/base-min.css'), media="screen, projection")}
    ${h.stylesheet_link(h.url_for('/css/base.css'), media="screen, projection")}
    ${h.stylesheet_link(h.url_for('/css/print.css'), media="print")}
</%def>

<%def name="header()">
    <div>
        <h1><a href="${h.url_for(controller='post', action='home')}" title="Home">${title()}</a></h1>
        <p class="wurdig-tagline">${subtitle()}</p>
        <p class="wurdig-subscribe">Subscribe</p>
        <p class="wurdig-search">Search</p>
    </div>
</%def>

<%def name="title()">
    <%
        wurdig_blog_title = ''
        try:
            wurdig_blog_title = config['blog.title']
        except Exception, e:
            wurdig_blog_title = u'Blog Title'
    %>
    ${wurdig_blog_title}
</%def>

<%def name="subtitle()">
    <%
        wurdig_blog_subtitle = ''
        try:
            wurdig_blog_subtitle = config['blog.subtitle']
        except Exception, e:
            wurdig_blog_subtitle = u'Blog Subtitle'
    %>
    ${wurdig_blog_subtitle}
</%def>

<%def name="primary_nav(loc=None)">
    <div id="primary-nav">
        <ul role="navigation">
            <%
                (n_home, n_about, n_teaching) = (None, None, None)
                if loc == 'home':
                    n_home = 'active'
                elif loc == 'about':
                    n_about = 'active'
                elif loc == 'teaching':
                    n_teaching = 'active'
            %>
            <li class="${n_home}">
                <a href="${h.url_for(controller='post', action='home')}" 
                    title="Home">
                    Home <span>Some content here</span>
                </a>
            </li>
            <li class="${n_about}">
                <a href="${h.url_for(controller='page', action='view', slug='about')}" 
                    title="About">
                    About <span>About me and this site</span>
                </a>
            </li>
            <li class="${n_teaching}">
                <a href="${h.url_for(controller='page', action='view', slug='teaching')}" 
                    title="Teaching">
                    Teaching <span>My former life as a teacher</span>
                </a>
            </li>
        </ul>
    </div>
</%def>

<%def name="blogroll()">
    <div id="blogroll">
        <h4>Blogroll</h4>
        <ul>
            <li><a href="http://teachmetheweb.org/" rel="external" title="Teach Me the Web">Teach Me the Web</a></li>
            <li><a href="http://benramsey.com/" rel="external" title="Ben Ramsey">Ben Ramsey</a></li>
            <li><a href="http://shiflett.org/" rel="external" title="Chris Shiflett">Chris Shiflett</a></li>
            <li><a href="http://zgordon.org/" rel="external" title="Zac Gordon">Zac Gordon</a></li>
        </ul>
    </div>
</%def>

<%def name="twitter_updates()">
    ${h.literal(h.twitter())}
</%def>

<%def name="tags()">
    ${h.literal(h.cloud())}
</%def>

<%def name="recent_comments()">
    ${h.literal(h.recent_comments())}
</%def>

<%def name="footer()">
    <p>
        Powered by 
        <a href="http://github.com/leveille/wurdig" title="Wurdig">Wurdig</a>
    </p>
    <ul>
        <li>
            <a href="${h.url_for(controller='post', action='feeds')}">
                Entries (atom)
            </a>
        </li>
        <li>
            <a href="${h.url_for(controller='comment', action='feeds')}">
                Comments (atom)
            </a>
        </li>
    </ul>
</%def>

<%def name="flash()">
    % if session.has_key('flash'):
        <div id="flash">
            <p>${session.get('flash')}</p>
        </div>
        <%
            del session['flash']
            session.save()
        %>
    % endif
</%def>

<%def name="js()">
    ${h.javascript_link(h.url_for('/javascripts/jquery/jquery.min.js'), 
                        h.url_for('/javascripts/application.js'))}
</%def>
